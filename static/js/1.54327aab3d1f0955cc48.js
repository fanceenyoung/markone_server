webpackJsonp([1],{"+6Bu":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}},"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+XfS":function(t,e){},"+ZMJ":function(t,e,n){var o=n("lOnJ");t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"3Eo+":function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"77Pl":function(t,e,n){var o=n("EqjI");t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},Dd8w:function(t,e,n){"use strict";e.__esModule=!0;var o,i=n("woOf"),r=(o=i)&&o.__esModule?o:{default:o};e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},GKmE:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var o=function(t){if(!t)return"";var e=new Date(t).toString().split(" ");return e[1]+" "+e[2]+", "+e[3]},i={bind:function(t,e,n){function o(n){if(t.contains(n.target))return!1;e.expression&&e.value(n)}t.__vueClickOutside__=o,document.addEventListener("click",o)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}}},Ibhu:function(t,e,n){var o=n("D2L2"),i=n("TcQ7"),r=n("vFc/")(!1),s=n("ax3d")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n);for(;e.length>c;)o(a,n=e[c++])&&(~r(l,n)||l.push(n));return l}},MU5D:function(t,e,n){var o=n("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},MmMw:function(t,e,n){var o=n("EqjI");t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},O4g8:function(t,e){t.exports=!0},ON07:function(t,e,n){var o=n("EqjI"),i=n("7KvD").document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},QRG4:function(t,e,n){var o=n("UuGF"),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},R4wc:function(t,e,n){var o=n("kM2E");o(o.S+o.F,"Object",{assign:n("To3L")})},R9M2:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},TcQ7:function(t,e,n){var o=n("MU5D"),i=n("52gC");t.exports=function(t){return o(i(t))}},To3L:function(t,e,n){"use strict";var o=n("lktj"),i=n("1kS7"),r=n("NpIQ"),s=n("sB3e"),a=n("MU5D"),c=Object.assign;t.exports=!c||n("S82l")(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=o})?function(t,e){for(var n=s(t),c=arguments.length,l=1,u=i.f,f=r.f;c>l;)for(var d,h=a(arguments[l++]),g=u?o(h).concat(u(h)):o(h),p=g.length,v=0;p>v;)f.call(h,d=g[v++])&&(n[d]=h[d]);return n}:c},Us29:function(t,e){},UuGF:function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},V3tA:function(t,e,n){n("R4wc"),t.exports=n("FeBl").Object.assign},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},ax3d:function(t,e,n){var o=n("e8AB")("keys"),i=n("3Eo+");t.exports=function(t){return o[t]||(o[t]=i(t))}},e8AB:function(t,e,n){var o=n("FeBl"),i=n("7KvD"),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n("O4g8")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},evD5:function(t,e,n){var o=n("77Pl"),i=n("SfB7"),r=n("MmMw"),s=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},fkB2:function(t,e,n){var o=n("UuGF"),i=Math.max,r=Math.min;t.exports=function(t,e){return(t=o(t))<0?i(t+e,0):r(t,e)}},hJx8:function(t,e,n){var o=n("evD5"),i=n("X8DO");t.exports=n("+E39")?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},kM2E:function(t,e,n){var o=n("7KvD"),i=n("FeBl"),r=n("+ZMJ"),s=n("hJx8"),a=n("D2L2"),c=function(t,e,n){var l,u,f,d=t&c.F,h=t&c.G,g=t&c.S,p=t&c.P,v=t&c.B,m=t&c.W,_=h?i:i[e]||(i[e]={}),y=_.prototype,b=h?o:g?o[e]:(o[e]||{}).prototype;for(l in h&&(n=e),n)(u=!d&&b&&void 0!==b[l])&&a(_,l)||(f=u?b[l]:n[l],_[l]=h&&"function"!=typeof b[l]?n[l]:v&&u?r(f,o):m&&b[l]==f?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):p&&"function"==typeof f?r(Function.call,f):f,p&&((_.virtual||(_.virtual={}))[l]=f,t&c.R&&y&&!y[l]&&s(y,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lktj:function(t,e,n){var o=n("Ibhu"),i=n("xnc9");t.exports=Object.keys||function(t){return o(t,i)}},mnWG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Dd8w"),i=n.n(o),r=n("+6Bu"),s=n.n(r),a={render:function(){var t=this.$createElement;return(this._self._c||t)("ul",{staticClass:"list"},[this._t("default")],2)},staticRenderFns:[]};var c=n("VU/8")({},a,!1,function(t){n("+XfS")},null,null).exports,l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isTrash?t._e():n("li",{class:{"list-item":!0,"has-left-radius":t.isHighlight,"border-left-radius":t.isHighlight}},[t.img?n("div",{class:{"list-item-img-box":!0,"border-left-radius":t.isHighlight}},[n("img",{staticClass:"list-item-img",attrs:{src:t.img,alt:"Markone"},on:{click:function(e){t.$emit("clickShowImg")}}})]):n("p",{staticClass:"list-item-text"},[t._v(t._s(t.item))]),t._v(" "),n("div",{staticClass:"list-item-delete",attrs:{title:"Move to trash"},on:{click:function(e){t.$emit("toTrash")}}},[n("span",[t._v("✖")])]),t._v(" "),n("div",{staticClass:"list-item-box"},[n("span",{staticClass:"list-item-box-icon",attrs:{title:t.isHighlight?"Unmark":"Mark"},on:{click:t.highlight}},[n("icon-svg",{attrs:{"icon-class":t.isHighlight?"highlighted":"highlight"}})],1),t._v(" "),n("span",{class:{"list-item-box-icon":!0,ban:!t.isVideo},attrs:{title:"Return to video"}},[t.isVideo?n("a",{staticClass:"list-item-box-icon-link",attrs:{href:t.origin+"?t="+t.startTime+"s",target:"_blank"}}):t._e(),t._v(" "),n("icon-svg",{attrs:{"icon-class":"back-to-video"}})],1)])])},staticRenderFns:[]};var u=n("VU/8")({props:["item","isHighlight","img","isVideo","origin","startTime","isTrash"],methods:{highlight:function(){this.$emit("tohighlight")}}},l,!1,function(t){n("Us29")},"data-v-fbe5c4ae",null).exports,f="0.3s height ease-in-out, 0.3s padding-top ease-in-out, 0.3s padding-bottom ease-in-out",d={"before-enter":function(t){t.style.transition=f,t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},"after-enter":function(t){t.style.transition="",t.style.height="",t.style.overflow=t.dataset.oldOverflow},"before-leave":function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(t.style.transition=f,t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},"after-leave":function(t){t.style.transition="",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}},h={name:"collapseTransition",functional:!0,render:function(t,e){var n=e.children;return t("transition",{on:d},n)}},g=n("VU/8")(h,null,!1,null,null,null).exports,p=n("I+qJ"),v=n("zXoH"),m=n("PHrY"),_=n("GKmE"),y={data:function(){return{notes:[],loading:!1,showImg:!1,imgSrc:"",copyList:[],next:null,previous:null,current:1,loadingmore:!1,nomoredata:!1}},components:{SortableList:c,SortableItem:u,CollapseTransition:g,NoData:p.a,BigImg:v.a},methods:{sortstart:function(){},sortmove:function(){},sortend:function(){},getdata:function(){var t=this;this.loading=!0,Object(m.c)({page:this.current}).then(function(e){e.data&&(t.next=e.data.next,t.previous=e.data.previous,e.data.next&&t.next>=2&&(t.current=t.next-1),e.data.results.forEach(function(e){var n=e.sections,o=s()(e,["sections"]),r={show:[],fold:[]};if(e.sections.length<=3)for(var a=0,c=e.sections.length;a<c;a++)r.show.push(e.sections[a]);else{for(var l=0;l<3;l++)r.show.push(e.sections[l]);for(var u=3,f=e.sections.length;u<f;u++)r.fold.push(e.sections[u])}t.notes.push(i()({},o,r,{noteVisible:!1,sections:n}))}),t.loading=!1)}).catch(function(){t.nomoredata=!0,t.loading=!1})},highLight:function(t,e,n){var o=this,i={highlight:!n,notes:t,user:this.$store.getters.uuid};Object(m.h)(e,i).then(function(t){200===t.status&&(o.notes=[],o.getdata())})},totrash:function(t,e){var n=this,o={trash:!0,notes:t,user:this.$store.getters.uuid};Object(m.h)(e,o).then(function(t){200===t.status&&(n.notes=[],n.getdata(),n.$toast("Put to trash successfully!",1500))})},clickImg:function(t){t&&(this.imgSrc=t,this.showImg=!0)},viewImg:function(){this.showImg=!1},copyAll:function(t){var e=this;this.copyList=t.sections,setTimeout(function(){var t=document.createRange();t.selectNode(document.getElementById("section"));var n=window.getSelection();n.rangeCount>0&&n.removeAllRanges(),n.addRange(t),document.execCommand("copy")&&e.$toast("Copied!")},500)},loadMore:function(){this.loadingmore=!0,this.current++,this.getdata()},scrollToTop:function(t){document.getElementById(t).scrollIntoView({block:"start",behavior:"smooth"})}},mounted:function(){this.getdata()},filters:{formatDate:_.b}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notes",attrs:{id:"scroll"}},[t._l(t.notes,function(e){return n("div",{key:e.id,staticClass:"note-list"},[n("div",{staticClass:"note-list-header"},[n("span",{staticClass:"note-list-header-icon",on:{click:function(n){t.copyAll(e)}}},[t._v("Copy all")]),t._v(" "),n("h4",{attrs:{id:e.title},on:{click:function(n){t.scrollToTop(e.title)}}},[t._v(t._s(e.title))])]),t._v(" "),n("sortable-list",[t._l(e.show,function(o,i){return n("sortable-item",{key:o.uuid,attrs:{index:i,item:o.remark,isHighlight:o.highlight,img:o.image,isVideo:o.is_video,origin:e.origin,startTime:o.start_time,isTrash:o.trash},on:{clickShowImg:function(e){t.clickImg(o.image)},tohighlight:function(n){t.highLight(e.uuid,o.uuid,o.highlight)},toTrash:function(n){t.totrash(e.uuid,o.uuid)}}})}),t._v(" "),n("collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.noteVisible,expression:"note.noteVisible"}],staticClass:"collapse"},t._l(e.fold,function(o,i){return n("sortable-item",{key:o.uuid,attrs:{index:i,item:o.remark,isHighlight:o.highlight,img:o.image,isVideo:o.is_video,origin:e.origin,startTime:o.start_time,isTrash:o.trash},on:{clickShowImg:function(e){t.clickImg(o.image)},tohighlight:function(n){t.highLight(e.uuid,o.uuid,o.highlight)},toTrash:function(n){t.totrash(e.uuid,o.uuid)}}})}))])],2),t._v(" "),n("div",{staticClass:"note-list-footer"},[e.fold&&e.fold.length?n("p",{staticClass:"note-list-footer-box",on:{click:function(t){e.noteVisible=!e.noteVisible}}},[t._v("\n        "+t._s(e.noteVisible?"Fold":"More")+" \n        "),n("span",{class:{"note-list-footer-box-icon":!0,rotate:!e.noteVisible}},[n("icon-svg",{attrs:{"icon-class":"down"}})],1)]):t._e(),t._v(" "),n("p",{staticClass:"note-list-footer-time"},[t._v("Edited: "+t._s(t._f("formatDate")(e.updated_at)))]),t._v(" "),n("p",{staticClass:"note-list-footer-link"},[t._v("  From: "),n("a",{attrs:{href:e.origin,target:"_blank"}},[n("span",[t._v(t._s(e.origin))])])])])],1)}),t._v(" "),t.loading||!t.notes.length?n("no-data",{attrs:{loading:t.loading,nodata:!t.loading&&!t.notes.length}}):t._e(),t._v(" "),t.next?n("div",{staticClass:"load-more"},[t.loadingmore?t._e():n("h3",{staticClass:"load-more-btn",on:{click:t.loadMore}},[t._v("Load more")]),t._v(" "),t.nomoredata?n("h3",[t._v("-- No more data --")]):t._e()]):t._e(),t._v(" "),t.showImg?n("big-img",{attrs:{imgSrc:t.imgSrc},on:{clickit:t.viewImg}}):t._e(),t._v(" "),n("div",{staticClass:"copy-bord"},[n("div",{ref:"copyBord",attrs:{id:"section"}},t._l(t.copyList,function(e){return"null"!==e.remark?n("p",{key:e.uuid},[t._v(t._s(e.remark))]):t._e()}))])],2)},staticRenderFns:[]};var x=n("VU/8")(y,b,!1,function(t){n("tBFi")},"data-v-3237d54c",null);e.default=x.exports},sB3e:function(t,e,n){var o=n("52gC");t.exports=function(t){return Object(o(t))}},tBFi:function(t,e){},"vFc/":function(t,e,n){var o=n("TcQ7"),i=n("QRG4"),r=n("fkB2");t.exports=function(t){return function(e,n,s){var a,c=o(e),l=i(c.length),u=r(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},woOf:function(t,e,n){t.exports={default:n("V3tA"),__esModule:!0}},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}});