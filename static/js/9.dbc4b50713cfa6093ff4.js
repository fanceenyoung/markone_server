webpackJsonp([9],{"Pcb/":function(s,e){},sh6l:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("mvHQ"),a=t.n(n),i=t("PHrY"),o={data:function(){return{nickname:null,email:null,password:null,signinEmail:null,signinPassword:null,state:1,warning:null,eye:!1,timer:!0,resetPassword:null}},methods:{signup:function(){var s=this;if(this.nickname&&this.email&&this.password&&!this.warning){var e={nickname:this.nickname,email:this.email,password:this.password};Object(i.i)(e).then(function(e){201===e.status&&(s.reset(),s.$store.commit({type:"SET_USER_INFO",info:a()(e.data)}),s.$router.push("/notes"))})}else alert("Please make sure your information is complete and correct!")},signin:function(){var s=this;if(this.signinEmail&&this.signinPassword&&!this.warning){var e={email:this.signinEmail,password:this.signinPassword};Object(i.g)(e).then(function(e){200===e.status&&(s.$store.commit({type:"SET_USER_INFO",info:a()(e.data)}),s.$router.push("/notes"))}).catch(function(){s.warning="signin"})}else alert("Please make sure your information is complete and correct!")},checkEmail:function(){var s=this;this.timer&&(this.timer=!1,setTimeout(function(){Object(i.a)({email:s.email}).then(function(e){e.data.result?s.warning="email":s.warning=null}),s.timer=!0},1e3))},checkPassword:function(s){var e=this;this.timer&&(this.timer=!1,setTimeout(function(){1===s&&e.password.length<=6||2===s&&e.resetPassword.length<=6?e.warning="password":e.warning=null,e.timer=!0},1e3))},sendEmail:function(){var s=this;this.signinEmail?(this.state=3,Object(i.b)({email:this.signinEmail}).then(function(e){e.data&&(alert(e.data.msg),s.reset(4))}).catch(function(){s.reset(2),s.warning="forget"})):alert("Please input your email!")},resetPass:function(){var s=this,e={email:this.signinEmail,password:this.resetPassword};Object(i.f)(e).then(function(e){e.data&&s.reset(5)}).catch(function(s){console.log(s)})},reset:function(s){this.nickname=null,this.email=null,this.password=null,this.signinPassword=null,this.warning=null,this.state=s}}},r={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"sign"},[t("div",{staticClass:"sign-box"},[t("p",{staticClass:"sign-box-title"},[s._v(s._s(0===s.state?"Join Mark One":1===s.state?"Sign in":5===s.state?"Congratulation!":"Reset password"))]),s._v(" "),0===s.state||1===s.state?t("div",{staticClass:"sign-box-google"},[t("span",{staticClass:"sign-box-google-icon"},[t("icon-svg",{attrs:{"icon-class":"google"}})],1),s._v(" "),t("button",{staticClass:"sign-box-google-text"},[s._v("Sign in with Google")])]):s._e(),s._v(" "),0===s.state||1===s.state?t("div",{staticClass:"sign-box-other"},[t("span",{staticClass:"sign-box-other-border left"}),s._v(" "),t("p",{staticClass:"sign-box-other-text"},[s._v("or")]),s._v(" "),t("span",{staticClass:"sign-box-other-border right"})]):s._e(),s._v(" "),s.state>=2?t("div",{staticClass:"sign-box-tip"},[2===s.state?t("p",[s._v("Plesase provide the email you used, we will send an email to reset your password. ")]):s._e(),s._v(" "),3===s.state?t("p",[s._v("An email with password reset instructions has been sent to your email address, if it exists in our system.")]):s._e(),s._v(" "),5===s.state?t("p",[s._v("You have successfully reset your password :)")]):s._e()]):s._e(),s._v(" "),0===s.state?t("div",{staticClass:"sign-box-form"},[t("div",{staticClass:"sign-box-form-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.nickname,expression:"nickname"}],attrs:{type:"text",name:"",placeholder:"Nickname"},domProps:{value:s.nickname},on:{input:function(e){e.target.composing||(s.nickname=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"sign-box-form-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],attrs:{type:"text",name:"",placeholder:"Email"},domProps:{value:s.email},on:{input:[function(e){e.target.composing||(s.email=e.target.value)},s.checkEmail]}})]),s._v(" "),t("div",{staticClass:"sign-box-form-input"},["checkbox"==(s.eye?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{name:"",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{input:function(e){s.checkPassword(1)},change:function(e){var t=s.password,n=e.target,a=!!n.checked;if(Array.isArray(t)){var i=s._i(t,null);n.checked?i<0&&(s.password=t.concat([null])):i>-1&&(s.password=t.slice(0,i).concat(t.slice(i+1)))}else s.password=a}}}):"radio"==(s.eye?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{name:"",placeholder:"Password",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{input:function(e){s.checkPassword(1)},change:function(e){s.password=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{name:"",placeholder:"Password",type:s.eye?"text":"password"},domProps:{value:s.password},on:{input:[function(e){e.target.composing||(s.password=e.target.value)},function(e){s.checkPassword(1)}]}}),s._v(" "),t("span",{staticClass:"sign-box-form-input-icon",on:{click:function(e){s.eye=!s.eye}}},[t("icon-svg",{attrs:{"icon-class":s.eye?"eye":"no-eye"}})],1)]),s._v(" "),t("div",{staticClass:"sign-box-form-warning signup"},["email"===s.warning?t("p",[t("span",{staticClass:"sign-box-form-warning-icon"},[t("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),t("span",{staticClass:"sign-box-form-warning-text"},[s._v("Invalid email address")])]):s._e(),s._v(" "),"password"===s.warning?t("p",[t("span",{staticClass:"sign-box-form-warning-icon"},[t("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),t("span",{staticClass:"sign-box-form-warning-text"},[s._v("Please use 6+ characters")])]):s._e()])]):s._e(),s._v(" "),1===s.state?t("div",{staticClass:"sign-box-form signin"},[t("div",{staticClass:"sign-box-form-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.signinEmail,expression:"signinEmail"}],attrs:{type:"text",name:"",placeholder:"Eamil"},domProps:{value:s.signinEmail},on:{input:function(e){e.target.composing||(s.signinEmail=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"sign-box-form-input"},["checkbox"==(s.eye?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.signinPassword,expression:"signinPassword"}],attrs:{name:"",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(s.signinPassword)?s._i(s.signinPassword,null)>-1:s.signinPassword},on:{input:function(e){s.warning=null},change:function(e){var t=s.signinPassword,n=e.target,a=!!n.checked;if(Array.isArray(t)){var i=s._i(t,null);n.checked?i<0&&(s.signinPassword=t.concat([null])):i>-1&&(s.signinPassword=t.slice(0,i).concat(t.slice(i+1)))}else s.signinPassword=a}}}):"radio"==(s.eye?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.signinPassword,expression:"signinPassword"}],attrs:{name:"",placeholder:"Password",type:"radio"},domProps:{checked:s._q(s.signinPassword,null)},on:{input:function(e){s.warning=null},change:function(e){s.signinPassword=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.signinPassword,expression:"signinPassword"}],attrs:{name:"",placeholder:"Password",type:s.eye?"text":"password"},domProps:{value:s.signinPassword},on:{input:[function(e){e.target.composing||(s.signinPassword=e.target.value)},function(e){s.warning=null}]}}),s._v(" "),t("span",{staticClass:"sign-box-form-input-icon",on:{click:function(e){s.eye=!s.eye}}},[t("icon-svg",{attrs:{"icon-class":s.eye?"eye":"no-eye"}})],1)]),s._v(" "),t("div",{staticClass:"sign-box-form-tip"},[t("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){s.reset(2)}}},[s._v("Forgot password?")])]),s._v(" "),t("div",{staticClass:"sign-box-form-warning signin"},["signin"===s.warning?t("p",[t("span",{staticClass:"sign-box-form-warning-icon"},[t("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),t("span",{staticClass:"sign-box-form-warning-text"},[s._v("Incorrect email or password")])]):s._e()])]):s._e(),s._v(" "),2===s.state?t("div",{staticClass:"sign-box-form"},[t("div",{staticClass:"sign-box-form-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.signinEmail,expression:"signinEmail"}],attrs:{type:"text",name:"",placeholder:"Eamil"},domProps:{value:s.signinEmail},on:{input:function(e){e.target.composing||(s.signinEmail=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"sign-box-form-warning signup"},["forget"===s.warning?t("p",[t("span",{staticClass:"sign-box-form-warning-icon"},[t("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),t("span",{staticClass:"sign-box-form-warning-text"},[s._v("Invalid email address")])]):s._e()])]):s._e(),s._v(" "),4===s.state?t("div",{staticClass:"sign-box-form"},[t("div",{staticClass:"sign-box-form-text"},[s._v(s._s(s.signinEmail))]),s._v(" "),t("div",{staticClass:"sign-box-form-input"},["checkbox"==(s.eye?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.resetPassword,expression:"resetPassword"}],attrs:{name:"",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(s.resetPassword)?s._i(s.resetPassword,null)>-1:s.resetPassword},on:{input:function(e){s.checkPassword(2)},change:function(e){var t=s.resetPassword,n=e.target,a=!!n.checked;if(Array.isArray(t)){var i=s._i(t,null);n.checked?i<0&&(s.resetPassword=t.concat([null])):i>-1&&(s.resetPassword=t.slice(0,i).concat(t.slice(i+1)))}else s.resetPassword=a}}}):"radio"==(s.eye?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:s.resetPassword,expression:"resetPassword"}],attrs:{name:"",placeholder:"Password",type:"radio"},domProps:{checked:s._q(s.resetPassword,null)},on:{input:function(e){s.checkPassword(2)},change:function(e){s.resetPassword=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.resetPassword,expression:"resetPassword"}],attrs:{name:"",placeholder:"Password",type:s.eye?"text":"password"},domProps:{value:s.resetPassword},on:{input:[function(e){e.target.composing||(s.resetPassword=e.target.value)},function(e){s.checkPassword(2)}]}}),s._v(" "),t("span",{staticClass:"sign-box-form-input-icon",on:{click:function(e){s.eye=!s.eye}}},[t("icon-svg",{attrs:{"icon-class":s.eye?"eye":"no-eye"}})],1)]),s._v(" "),t("div",{staticClass:"sign-box-form-warning signup"},["password"===s.warning?t("p",[t("span",{staticClass:"sign-box-form-warning-icon"},[t("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),t("span",{staticClass:"sign-box-form-warning-text"},[s._v("Please use 6+ characters")])]):s._e()])]):s._e(),s._v(" "),0===s.state?t("div",{staticClass:"sign-box-signin"},[t("p",{staticClass:"sign-box-signin-text"},[s._v("Already have an account? ")]),s._v(" "),t("button",{staticClass:"sign-box-signin-btn",on:{click:function(e){s.reset(1)}}},[s._v("Sign in.")])]):s._e(),s._v(" "),t("div",{staticClass:"sign-box-btn"},[0===s.state?t("button",{on:{click:s.signup}},[s._v("Register")]):1===s.state?t("button",{on:{click:s.signin}},[s._v("Sign in")]):2===s.state?t("button",{on:{click:s.sendEmail}},[s._v("Send email")]):4===s.state?t("button",{on:{click:s.resetPass}},[s._v("Reset password")]):s._e()]),s._v(" "),0===s.state?t("div",{staticClass:"sign-box-footer"},[t("p",[s._v("By creating an account，you agree with our ")]),s._v(" "),t("router-link",{attrs:{to:"/terms"}},[s._v("Terms of Service")]),s._v(" "),t("p",[s._v(" and ")]),s._v(" "),t("router-link",{attrs:{to:"/privacy"}},[s._v("Privacy Policy")]),s._v(" "),t("p",[s._v(".")])],1):s._e(),s._v(" "),1===s.state?t("div",{staticClass:"sign-box-footer"},[t("p",[s._v("Don't have an account?")]),s._v(" "),t("br"),s._v(" "),t("button",{staticClass:"sign-box-signin-btn",on:{click:function(e){s.reset(0)}}},[s._v("Create new account")])]):s._e(),s._v(" "),2===s.state||3===s.state||4===s.state?t("div",{staticClass:"sign-box-help"},[s._m(0)]):s._e()])])},staticRenderFns:[function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("Please contact "),e("a",{attrs:{href:"mailto:markone_support@163.com?subject=Feedback%20for%20Mark%20One"}},[this._v("markone_support@163.com")]),this._v(" for help if necessary.")])}]};var c=t("VU/8")(o,r,!1,function(s){t("Pcb/")},"data-v-6b56764f",null);e.default=c.exports}});