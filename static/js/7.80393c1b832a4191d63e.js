webpackJsonp([7],{Vu3I:function(s,n){},sh6l:function(s,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=e("mvHQ"),i=e.n(t),a=e("PHrY"),o={data:function(){return{nickname:null,email:null,password:null,signinEmail:null,signinPassword:null,state:1,warning:null,eye:!1,timer:!0}},methods:{signup:function(){var s=this;if(this.nickname&&this.email&&this.password&&!this.warning){var n={nickname:this.nickname,email:this.email,password:this.password};Object(a.g)(n).then(function(n){201===n.status&&(s.reset(),s.$store.commit({type:"SET_USER_INFO",info:i()(n.data)}),s.$toast("Sign up successfully!",1500),s.$router.push("/"))})}else alert("Please make sure your information is complete and correct")},signin:function(){var s=this;if(this.signinEmail&&this.signinPassword&&!this.warning){var n={email:this.signinEmail,password:this.signinPassword};Object(a.e)(n).then(function(n){200===n.status&&(s.$store.commit({type:"SET_USER_INFO",info:i()(n.data)}),s.$toast("Sign in successfully!"),s.$router.push("/"))}).catch(function(){s.warning="signin"})}else alert("Please make sure your information is complete and correct")},checkEmail:function(){var s=this;this.timer&&(this.timer=!1,setTimeout(function(){Object(a.a)({email:s.email}).then(function(n){n.data.result?s.warning="email":s.warning=null}),s.timer=!0},1e3))},checkPassword:function(){var s=this;this.timer&&(this.timer=!1,setTimeout(function(){s.password.length<=6?s.warning="password":s.warning=null,s.timer=!0},1e3))},sendEmail:function(s){this.reset(s)},reset:function(s){this.nickname=null,this.email=null,this.password=null,this.signinEmail=null,this.signinPassword=null,this.warning=null,this.state=s}}},r={render:function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"sign"},[e("div",{staticClass:"sign-box"},[e("p",{staticClass:"sign-box-title"},[s._v(s._s(0===s.state?"Join Mark One":1===s.state?"Sign in":4===s.state?"Congratulation!":"Reset password"))]),s._v(" "),0===s.state||1===s.state?e("div",{staticClass:"sign-box-google"},[e("span",{staticClass:"sign-box-google-icon"},[e("icon-svg",{attrs:{"icon-class":"google"}})],1),s._v(" "),e("button",{staticClass:"sign-box-google-text"},[s._v("Sign in with Google")])]):s._e(),s._v(" "),0===s.state||1===s.state?e("div",{staticClass:"sign-box-other"},[e("span",{staticClass:"sign-box-other-border left"}),s._v(" "),e("p",{staticClass:"sign-box-other-text"},[s._v("or")]),s._v(" "),e("span",{staticClass:"sign-box-other-border right"})]):s._e(),s._v(" "),s.state>=2?e("div",{staticClass:"sign-box-tip"},[2===s.state?e("p",[s._v("Plesase provide the email you used, we will send an email to reset your password. ")]):s._e(),s._v(" "),3===s.state?e("p",[s._v("An email with password reset instructions has been sent to your email address, if it exists in our system.")]):s._e(),s._v(" "),4===s.state?e("p",[s._v("You have successfully reset your password :)")]):s._e()]):s._e(),s._v(" "),0===s.state?e("div",{staticClass:"sign-box-form"},[e("div",{staticClass:"sign-box-form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.nickname,expression:"nickname"}],attrs:{type:"text",name:"",placeholder:"Nickname"},domProps:{value:s.nickname},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signup(n):null},input:function(n){n.target.composing||(s.nickname=n.target.value)}}})]),s._v(" "),e("div",{staticClass:"sign-box-form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],attrs:{type:"text",name:"",placeholder:"Email"},domProps:{value:s.email},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signup(n):null},input:[function(n){n.target.composing||(s.email=n.target.value)},s.checkEmail]}})]),s._v(" "),e("div",{staticClass:"sign-box-form-input"},["checkbox"==(s.eye?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{name:"",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signup(n):null},input:s.checkPassword,change:function(n){var e=s.password,t=n.target,i=!!t.checked;if(Array.isArray(e)){var a=s._i(e,null);t.checked?a<0&&(s.password=e.concat([null])):a>-1&&(s.password=e.slice(0,a).concat(e.slice(a+1)))}else s.password=i}}}):"radio"==(s.eye?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{name:"",placeholder:"Password",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signup(n):null},input:s.checkPassword,change:function(n){s.password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{name:"",placeholder:"Password",type:s.eye?"text":"password"},domProps:{value:s.password},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signup(n):null},input:[function(n){n.target.composing||(s.password=n.target.value)},s.checkPassword]}}),s._v(" "),e("span",{staticClass:"sign-box-form-input-icon",on:{click:function(n){s.eye=!s.eye}}},[e("icon-svg",{attrs:{"icon-class":s.eye?"eye":"no-eye"}})],1)]),s._v(" "),e("div",{staticClass:"sign-box-form-warning signup"},["email"===s.warning?e("p",[e("span",{staticClass:"sign-box-form-warning-icon"},[e("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),e("span",{staticClass:"sign-box-form-warning-text"},[s._v("Invalid email address")])]):s._e(),s._v(" "),"password"===s.warning?e("p",[e("span",{staticClass:"sign-box-form-warning-icon"},[e("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),e("span",{staticClass:"sign-box-form-warning-text"},[s._v("Please use 6+ characters")])]):s._e()])]):s._e(),s._v(" "),1===s.state?e("div",{staticClass:"sign-box-form signin"},[e("div",{staticClass:"sign-box-form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.signinEmail,expression:"signinEmail"}],attrs:{type:"text",name:"",placeholder:"Eamil"},domProps:{value:s.signinEmail},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signin(n):null},input:function(n){n.target.composing||(s.signinEmail=n.target.value)}}})]),s._v(" "),e("div",{staticClass:"sign-box-form-input"},["checkbox"==(s.eye?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:s.signinPassword,expression:"signinPassword"}],attrs:{name:"",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(s.signinPassword)?s._i(s.signinPassword,null)>-1:s.signinPassword},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signin(n):null},input:function(n){s.warning=null},change:function(n){var e=s.signinPassword,t=n.target,i=!!t.checked;if(Array.isArray(e)){var a=s._i(e,null);t.checked?a<0&&(s.signinPassword=e.concat([null])):a>-1&&(s.signinPassword=e.slice(0,a).concat(e.slice(a+1)))}else s.signinPassword=i}}}):"radio"==(s.eye?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:s.signinPassword,expression:"signinPassword"}],attrs:{name:"",placeholder:"Password",type:"radio"},domProps:{checked:s._q(s.signinPassword,null)},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signin(n):null},input:function(n){s.warning=null},change:function(n){s.signinPassword=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.signinPassword,expression:"signinPassword"}],attrs:{name:"",placeholder:"Password",type:s.eye?"text":"password"},domProps:{value:s.signinPassword},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signin(n):null},input:[function(n){n.target.composing||(s.signinPassword=n.target.value)},function(n){s.warning=null}]}}),s._v(" "),e("span",{staticClass:"sign-box-form-input-icon",on:{click:function(n){s.eye=!s.eye}}},[e("icon-svg",{attrs:{"icon-class":s.eye?"eye":"no-eye"}})],1)]),s._v(" "),e("div",{staticClass:"sign-box-form-tip"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){s.reset(2)}}},[s._v("Forgot password?")])]),s._v(" "),e("div",{staticClass:"sign-box-form-warning signin"},["signin"===s.warning?e("p",[e("span",{staticClass:"sign-box-form-warning-icon"},[e("icon-svg",{attrs:{"icon-class":"warning"}})],1),s._v(" "),e("span",{staticClass:"sign-box-form-warning-text"},[s._v("Incorrect email or password")])]):s._e()])]):s._e(),s._v(" "),2===s.state?e("div",{staticClass:"sign-box-form"},[e("div",{staticClass:"sign-box-form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.signinEmail,expression:"signinEmail"}],attrs:{type:"text",name:"",placeholder:"Eamil"},domProps:{value:s.signinEmail},on:{keyup:function(n){return"button"in n||!s._k(n.keyCode,"enter",13,n.key,"Enter")?s.signin(n):null},input:function(n){n.target.composing||(s.signinEmail=n.target.value)}}})])]):s._e(),s._v(" "),0===s.state?e("div",{staticClass:"sign-box-signin"},[e("p",{staticClass:"sign-box-signin-text"},[s._v("Already have an account? ")]),s._v(" "),e("button",{staticClass:"sign-box-signin-btn",on:{click:function(n){s.reset(1)}}},[s._v("Sign in.")])]):s._e(),s._v(" "),e("div",{staticClass:"sign-box-btn"},[0===s.state?e("button",{on:{click:s.signup}},[s._v("Register")]):1===s.state?e("button",{on:{click:s.signin}},[s._v("Sign in")]):2===s.state?e("button",{on:{click:function(n){s.sendEmail(3)}}},[s._v("Send email")]):s._e()]),s._v(" "),0===s.state?e("div",{staticClass:"sign-box-footer"},[e("p",[s._v("By creating an account，you agree with our ")]),s._v(" "),e("router-link",{attrs:{to:"/terms"}},[s._v("Terms of Service")]),s._v(" "),e("p",[s._v(" and ")]),s._v(" "),e("router-link",{attrs:{to:"/privacy"}},[s._v("Privacy Policy")]),s._v(" "),e("p",[s._v(".")])],1):s._e(),s._v(" "),1===s.state?e("div",{staticClass:"sign-box-footer"},[e("p",[s._v("Don't have an account?")]),s._v(" "),e("br"),s._v(" "),e("button",{staticClass:"sign-box-signin-btn",on:{click:function(n){s.reset(0)}}},[s._v("Create new account")])]):s._e(),s._v(" "),2===s.state||3===s.state?e("div",{staticClass:"sign-box-help"},[s._m(0)]):s._e()])])},staticRenderFns:[function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("Please contact "),n("a",{attrs:{href:""}},[this._v("markone_support@163.com")]),this._v(" for help if necessary.")])}]};var l=e("VU/8")(o,r,!1,function(s){e("Vu3I")},"data-v-968c38b6",null);n.default=l.exports}});